const minmax = (list) => (list.length > 1 ? `minmax(${list.join(', ')})` : list[0] ?? 'auto');
const grid = (options) => {
    const colWidths = new Map();
    const [rowsTemplate, colsCount] = options.template.reduce(([template, length], row) => {
        const rowHeights = row.reduce((acc, key, colIndex) => {
            const height = options.rows.get(key);
            const widths = options.cols.get(key);
            if (height && !acc.includes(height))
                acc.push(height);
            if (widths)
                colWidths.set(colIndex, (colWidths.get(colIndex) ?? new Set()).add(widths));
            return acc;
        }, []);
        return [`${template} \n "${row.join(' ')}" ${minmax(rowHeights)}`, Math.max(length, row.length)];
    }, ['', 0]);
    return [
        rowsTemplate,
        [...new Array(colsCount)].reduce((acc, _, index) => `${acc} ${minmax([...(colWidths.get(index)?.values() ?? [])])}`, ''),
    ].join(' / ');
};

export { grid };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvbGF5b3V0cy9MYXlvdXQvdXRpbHMvZ3JpZC50cyJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE1BQU0sR0FBRyxDQUFDLElBQXFCLE1BQWMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQSxPQUFBLEVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQztBQUUxRyxNQUFBLElBQUksR0FBRyxDQUFDLE9BSXBCLEtBQVk7QUFDWCxJQUFBLE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUE4QixDQUFDO0lBQ3hELE1BQU0sQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQ3ZELENBQUMsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBRyxLQUFJO0FBQzFCLFFBQUEsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBa0IsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsS0FBSTtZQUNwRSxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNyQyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVyQyxJQUFJLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBQUUsZ0JBQUEsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN0RCxZQUFBLElBQUksTUFBTTtnQkFBRSxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUV4RixZQUFBLE9BQU8sR0FBRyxDQUFDO1NBQ1osRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVQLFFBQUEsT0FBTyxDQUFDLENBQUEsRUFBRyxRQUFRLENBQUEsS0FBQSxFQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUssRUFBQSxFQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQSxDQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDbkcsS0FBQyxFQUNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBcUIsQ0FDNUIsQ0FBQztJQUVGLE9BQU87UUFDTCxZQUFZO1FBQ1osQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUM5QixDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxLQUFLLEdBQUcsR0FBRyxDQUFBLENBQUEsRUFBSSxNQUFNLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUEsRUFDbEYsRUFBRSxDQUNIO0FBQ0YsS0FBQSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNoQjs7OzsifQ==
